{"version":3,"sources":["webpack:///node_modules/rxjs/_esm2015/internal/operators/groupBy.js","webpack:///node_modules/rxjs/_esm2015/internal/operators/reduce.js","webpack:///node_modules/rxjs/_esm2015/internal/operators/toArray.js","webpack:///src/app/pages/test-view-model/test-view-model-routing.module.ts","webpack:///src/app/pages/test-view-model/test-view-model.module.ts","webpack:///src/app/pages/test-view-model/test-view-model.page.ts","webpack:///src/app/pages/test-view-model/test-view-model.page.scss","webpack:///src/app/pages/test-view-model/test-view-model.page.html"],"names":["groupBy","keySelector","elementSelector","durationSelector","subjectSelector","source","lift","GroupByOperator","subscriber","subscribe","GroupBySubscriber","destination","groups","attemptedToUnsubscribe","count","value","key","err","error","_group","Map","group","get","element","Subject","set","groupedObservable","GroupedObservable","next","duration","add","GroupDurationSubscriber","closed","forEach","clear","complete","Subscriber","parent","removeGroup","groupSubject","refCountSubscription","subscription","Subscription","InnerRefCountSubscription","Observable","unsubscribe","reduce","accumulator","seed","arguments","length","reduceOperatorFunctionWithSeed","pipe","scan","takeLast","defaultIfEmpty","reduceOperatorFunction","acc","index","toArrayReducer","arr","item","push","toArray","routes","path","component","TestViewModelPage","TestViewModelPageRoutingModule","NgModule","imports","RouterModule","exports","TestViewModelPageModule","CommonModule","FormsModule","IonicModule","declarations","navCtrl","userSrvc","delivery","testArray","date_start","allStores","arrayGrouped","obtainTrades","date","arraySubsidiaries","getStoresCatalog","data","distinct","self","indexOf","getVisitsByUserDay","trade","from","for_group","id_multistore","mergeMap","val","store_tmp","find","x","id","unique","Array","map","name_business","filter","subsidiary_cont","subsidiary","parseInt","photo","name","_err","console","log","NavController","UserServicesService","DeliveryServicesService","Component","selector","template"],"mappings":"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","file":"src_app_pages_test-view-model_test-view-model_module_ts-es5.js","sourcesContent":["import { Subscriber } from '../Subscriber';\nimport { Subscription } from '../Subscription';\nimport { Observable } from '../Observable';\nimport { Subject } from '../Subject';\nexport function groupBy(keySelector, elementSelector, durationSelector, subjectSelector) {\n    return (source) => source.lift(new GroupByOperator(keySelector, elementSelector, durationSelector, subjectSelector));\n}\nclass GroupByOperator {\n    constructor(keySelector, elementSelector, durationSelector, subjectSelector) {\n        this.keySelector = keySelector;\n        this.elementSelector = elementSelector;\n        this.durationSelector = durationSelector;\n        this.subjectSelector = subjectSelector;\n    }\n    call(subscriber, source) {\n        return source.subscribe(new GroupBySubscriber(subscriber, this.keySelector, this.elementSelector, this.durationSelector, this.subjectSelector));\n    }\n}\nclass GroupBySubscriber extends Subscriber {\n    constructor(destination, keySelector, elementSelector, durationSelector, subjectSelector) {\n        super(destination);\n        this.keySelector = keySelector;\n        this.elementSelector = elementSelector;\n        this.durationSelector = durationSelector;\n        this.subjectSelector = subjectSelector;\n        this.groups = null;\n        this.attemptedToUnsubscribe = false;\n        this.count = 0;\n    }\n    _next(value) {\n        let key;\n        try {\n            key = this.keySelector(value);\n        }\n        catch (err) {\n            this.error(err);\n            return;\n        }\n        this._group(value, key);\n    }\n    _group(value, key) {\n        let groups = this.groups;\n        if (!groups) {\n            groups = this.groups = new Map();\n        }\n        let group = groups.get(key);\n        let element;\n        if (this.elementSelector) {\n            try {\n                element = this.elementSelector(value);\n            }\n            catch (err) {\n                this.error(err);\n            }\n        }\n        else {\n            element = value;\n        }\n        if (!group) {\n            group = (this.subjectSelector ? this.subjectSelector() : new Subject());\n            groups.set(key, group);\n            const groupedObservable = new GroupedObservable(key, group, this);\n            this.destination.next(groupedObservable);\n            if (this.durationSelector) {\n                let duration;\n                try {\n                    duration = this.durationSelector(new GroupedObservable(key, group));\n                }\n                catch (err) {\n                    this.error(err);\n                    return;\n                }\n                this.add(duration.subscribe(new GroupDurationSubscriber(key, group, this)));\n            }\n        }\n        if (!group.closed) {\n            group.next(element);\n        }\n    }\n    _error(err) {\n        const groups = this.groups;\n        if (groups) {\n            groups.forEach((group, key) => {\n                group.error(err);\n            });\n            groups.clear();\n        }\n        this.destination.error(err);\n    }\n    _complete() {\n        const groups = this.groups;\n        if (groups) {\n            groups.forEach((group, key) => {\n                group.complete();\n            });\n            groups.clear();\n        }\n        this.destination.complete();\n    }\n    removeGroup(key) {\n        this.groups.delete(key);\n    }\n    unsubscribe() {\n        if (!this.closed) {\n            this.attemptedToUnsubscribe = true;\n            if (this.count === 0) {\n                super.unsubscribe();\n            }\n        }\n    }\n}\nclass GroupDurationSubscriber extends Subscriber {\n    constructor(key, group, parent) {\n        super(group);\n        this.key = key;\n        this.group = group;\n        this.parent = parent;\n    }\n    _next(value) {\n        this.complete();\n    }\n    _unsubscribe() {\n        const { parent, key } = this;\n        this.key = this.parent = null;\n        if (parent) {\n            parent.removeGroup(key);\n        }\n    }\n}\nexport class GroupedObservable extends Observable {\n    constructor(key, groupSubject, refCountSubscription) {\n        super();\n        this.key = key;\n        this.groupSubject = groupSubject;\n        this.refCountSubscription = refCountSubscription;\n    }\n    _subscribe(subscriber) {\n        const subscription = new Subscription();\n        const { refCountSubscription, groupSubject } = this;\n        if (refCountSubscription && !refCountSubscription.closed) {\n            subscription.add(new InnerRefCountSubscription(refCountSubscription));\n        }\n        subscription.add(groupSubject.subscribe(subscriber));\n        return subscription;\n    }\n}\nclass InnerRefCountSubscription extends Subscription {\n    constructor(parent) {\n        super();\n        this.parent = parent;\n        parent.count++;\n    }\n    unsubscribe() {\n        const parent = this.parent;\n        if (!parent.closed && !this.closed) {\n            super.unsubscribe();\n            parent.count -= 1;\n            if (parent.count === 0 && parent.attemptedToUnsubscribe) {\n                parent.unsubscribe();\n            }\n        }\n    }\n}\n//# sourceMappingURL=groupBy.js.map","import { scan } from './scan';\nimport { takeLast } from './takeLast';\nimport { defaultIfEmpty } from './defaultIfEmpty';\nimport { pipe } from '../util/pipe';\nexport function reduce(accumulator, seed) {\n    if (arguments.length >= 2) {\n        return function reduceOperatorFunctionWithSeed(source) {\n            return pipe(scan(accumulator, seed), takeLast(1), defaultIfEmpty(seed))(source);\n        };\n    }\n    return function reduceOperatorFunction(source) {\n        return pipe(scan((acc, value, index) => accumulator(acc, value, index + 1)), takeLast(1))(source);\n    };\n}\n//# sourceMappingURL=reduce.js.map","import { reduce } from './reduce';\nfunction toArrayReducer(arr, item, index) {\n    if (index === 0) {\n        return [item];\n    }\n    arr.push(item);\n    return arr;\n}\nexport function toArray() {\n    return reduce(toArrayReducer, []);\n}\n//# sourceMappingURL=toArray.js.map","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { TestViewModelPage } from './test-view-model.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: TestViewModelPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class TestViewModelPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { TestViewModelPageRoutingModule } from './test-view-model-routing.module';\n\nimport { TestViewModelPage } from './test-view-model.page';\n\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    TestViewModelPageRoutingModule,\n    \n  ],\n  declarations: [TestViewModelPage]\n})\nexport class TestViewModelPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { NavController } from '@ionic/angular';\nimport { from } from 'rxjs';\nimport { groupBy, mergeMap, toArray } from 'rxjs/operators';\nimport { DeliveryServicesService } from 'src/app/services/delivery-services.service';\nimport { UserServicesService } from 'src/app/services/user-services.service';\nimport { Store } from '../../models/store';\n\n@Component({\n  selector: 'app-test-view-model',\n  templateUrl: './test-view-model.page.html',\n  styleUrls: ['./test-view-model.page.scss'],\n})\nexport class TestViewModelPage implements OnInit {\n\n\n  ngOnInit() {\n  }\n\n  testArray: any = [];\n  public date_start: any = '';\n  private allStores: any = [];\n  public arrayGrouped = [];\n\n  constructor(\n    public navCtrl:   NavController,\n    public userSrvc:  UserServicesService,\n    private delivery:   DeliveryServicesService\n\n  ) { } // End constructor\n\n\n  callSubmit(){this.obtainTrades()}\n\n  obtainTrades() {\n    let date = this.date_start\n    let arraySubsidiaries = [];\n    this.arrayGrouped = [];\n\n    this.delivery.getStoresCatalog().subscribe(\n      data => {\n        const distinct = (value,index, self) => { return self.indexOf(value) === index }\n        this.allStores = data;\n        this.delivery.getVisitsByUserDay(date).subscribe(\n          data => {\n            let trade = data\n            const source = from(trade);\n            const for_group = source.pipe(\n              groupBy( (trade:Store) => trade.id_multistore),\n              mergeMap(group => group.pipe(toArray()))\n            );\n\n            const subscribe = for_group.subscribe(val => {\n              arraySubsidiaries[val[0].id_multistore] = val;\n            });\n            for (let key in arraySubsidiaries) {\n              let store_tmp = this.allStores.find(x=>x.id == key);\n              let unique = [...Array.from(arraySubsidiaries[key].map(item => item.name_business))]\n              unique = unique.filter(distinct)\n              let subsidiary_cont: any = [];\n\n              for (let item in unique) {\n                subsidiary_cont.push(unique[item])\n                for (let subsidiary of arraySubsidiaries[key]) {\n                  if(subsidiary.name_business == unique[item]){ subsidiary_cont[item] =+1 }\n                }\n              }\n              this.arrayGrouped[parseInt(key)-1] = arraySubsidiaries[key]\n              this.arrayGrouped[parseInt(key)-1]['img'] = store_tmp.photo\n              this.arrayGrouped[parseInt(key)-1]['name'] = store_tmp.name\n              this.arrayGrouped[parseInt(key)-1]['trade_number'] = subsidiary_cont\n\n            }\n          },\n          _err => { console.error(_err)}\n        )\n      },\n      _err => {}\n    )\n  }\n\n  pushArray(){\n    this.testArray.push('dasdasda')\n    console.log(this.testArray)\n  }\n\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJ0ZXN0LXZpZXctbW9kZWwucGFnZS5zY3NzIn0= */\";","export default \"<ion-header>\\n  <ion-navbar color='primary'>\\n    <button ion-button menuToggle>\\n      <ion-icon name=\\\"menu\\\"></ion-icon>\\n    </button>\\n    <ion-title>Visitas</ion-title>\\n  </ion-navbar>\\n</ion-header>\\n\\n<ion-content padding>\\n\\n  <ion-list>\\n    <!-- <form (ngSubmit)=\\\"callSubmit()\\\" [FormGroup]=\\\"form\\\"> -->\\n    <form (ngSubmit)=\\\"callSubmit()\\\" >\\n      <ion-item>\\n        <ion-label>Fecha inicio</ion-label>\\n        <ion-datetime displayFormat=\\\"DD-MM-YYYY\\\" cancelText=\\\"Cancelar\\\" [(ngModel)]=\\\"date_start\\\"\\n        doneText=\\\"Seleccionar\\\" min=\\\"2018\\\" name=\\\"date_start\\\">\\n        </ion-datetime>\\n      </ion-item>\\n\\n      <div padding-horizontal>\\n        <!-- <div class=\\\"form-error\\\">{{form.errors}}</div> -->\\n        <button ion-button full type=\\\"submit\\\" [disabled]=\\\"date_start == ''\\\">Obtener Reporte</button>\\n      </div>\\n\\n    </form>\\n    <!-- {{ arrayGrouped | json }} -->\\n    <div *ngFor=\\\"let item of arrayGrouped\\\" >\\n      <ul> <b>{{ item.name }} </b></ul>\\n      <ul> <b>{{ item.img }} </b></ul>\\n      <div *ngFor=\\\"let trade of item\\\" >\\n        <ul> {{ item.length }} </ul>\\n        <ul> {{ trade.name_business }} </ul>\\n        <ul> {{ trade.subsidiary_publish__created_at }}</ul>\\n      </div>\\n    </div>\\n  </ion-list>\\n\\n{{ testArray | json}}\\n<button type=\\\"button\\\" name=\\\"button\\\" (click)=\\\"pushArray()\\\">Push Array</button>\\n\\n</ion-content>\\n\\n\";"]}