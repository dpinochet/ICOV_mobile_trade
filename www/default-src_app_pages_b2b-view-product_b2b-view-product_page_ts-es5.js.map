{"version":3,"sources":["webpack:///node_modules/@capacitor/camera/dist/esm/definitions.js","webpack:///node_modules/@capacitor/camera/dist/esm/index.js","webpack:///src/app/pages/b2b-view-product/b2b-view-product.page.ts","webpack:///src/app/services/b2b.service.ts","webpack:///src/app/pages/b2b-view-product/b2b-view-product.page.scss","webpack:///src/app/pages/b2b-view-product/b2b-view-product.page.html"],"names":["CameraSource","CameraDirection","CameraResultType","Camera","registerPlugin","web","then","m","CameraWeb","B2bViewProductPage","navCtrl","b2b","barcodeScanner","modalCtrl","_auth","deliveryPublish","alertCtrl","_comunc","loading","subsidiary","direccion_subsidiary_arr","Array","subsidiary_b2_mobile_data_product_list","formGroupSearch","FormGroup","search","FormControl","categorias_productos","subsidiary_last_b2b","data_modal_marca","baja_stock_info_count","allProductList","temporal_product_item","user_data","getUser","user","card_item","console","log","setTimeout","initt","fecha","format","sku","create","cssClass","header","inputs","name","type","placeholder","buttons","text","role","handler","data","envio_stock","id","stock","user_created","email","rest_aviso","actualizaDatos","showAlert","getCategoriaProductos","alert","present","producto","cat_pro","prod","saveToGallery","width","height","quality","allowEditing","resultType","source","correctOrientation","base64Image","img","dataUrl","model_lowstockproduc","id_subsidiary","id_product","product_photo","lowstockproduct","product","color","title","subTitle","subHeader","reset","product_category","subsidiaryb2bmobileproducts","product_valid","setColorCalifProduct","category_arr","validArr","length","forEach","category","idx_category","idx_product","find_valid_product","_","findIndex","o","e","Storage","key","value","JSON","parse","getLastB2bSubsiduary","getLastB2bSubsidiary","scan","barcodeData","setProductListAll","controls","setValue","filterItems","err","push","searchTerm","filter","item","idsku","toLowerCase","indexOf","getsubsidiaryB2bMobile","subsidiary_b2_mobile_data_product","cortar_string","all","address","split","dismiss","addItem","itemAdd","count","NavController","B2bService","BarcodeScanner","ModalController","UserServicesService","DeliveryServicesService","AlertController","ComunicacionComponentService","Input","Component","selector","template","http","base","url","subsidiary_id","headers","HttpHeaders","set","getDataToken","get","toPromise","id_brand","Promise","resolve","reject","productos_marcas","brand","multistore_id","HttpClient","BaseServicesService","Injectable","providedIn"],"mappings":"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","file":"default-src_app_pages_b2b-view-product_b2b-view-product_page_ts-es5.js","sourcesContent":["export var CameraSource;\n(function (CameraSource) {\n    /**\n     * Prompts the user to select either the photo album or take a photo.\n     */\n    CameraSource[\"Prompt\"] = \"PROMPT\";\n    /**\n     * Take a new photo using the camera.\n     */\n    CameraSource[\"Camera\"] = \"CAMERA\";\n    /**\n     * Pick an existing photo fron the gallery or photo album.\n     */\n    CameraSource[\"Photos\"] = \"PHOTOS\";\n})(CameraSource || (CameraSource = {}));\nexport var CameraDirection;\n(function (CameraDirection) {\n    CameraDirection[\"Rear\"] = \"REAR\";\n    CameraDirection[\"Front\"] = \"FRONT\";\n})(CameraDirection || (CameraDirection = {}));\nexport var CameraResultType;\n(function (CameraResultType) {\n    CameraResultType[\"Uri\"] = \"uri\";\n    CameraResultType[\"Base64\"] = \"base64\";\n    CameraResultType[\"DataUrl\"] = \"dataUrl\";\n})(CameraResultType || (CameraResultType = {}));\n//# sourceMappingURL=definitions.js.map","import { registerPlugin } from '@capacitor/core';\nconst Camera = registerPlugin('Camera', {\n    web: () => import('./web').then(m => new m.CameraWeb()),\n});\nexport * from './definitions';\nexport { Camera };\n//# sourceMappingURL=index.js.map","import { Component, Input, OnInit } from '@angular/core';\n\n//import { Storage } from '@ionic/storage';\nimport { Storage } from '@capacitor/storage';\nimport { BarcodeScanner } from '@ionic-native/barcode-scanner/ngx';\nimport { FormControl, FormGroup } from '@angular/forms';\n//import { Camera } from '@ionic-native/camera/ngx';\n//import { Camera } from '@capacitor/camera';\ndeclare var _:any;\nimport * as moment from 'moment';\nimport { AlertController, ModalController, NavController } from '@ionic/angular';\nimport { B2bService } from 'src/app/services/b2b.service';\nimport { UserServicesService } from 'src/app/services/user-services.service';\nimport { DeliveryServicesService } from 'src/app/services/delivery-services.service';\nimport { ComunicacionComponentService } from 'src/app/services/comunicacion-component.service';\nimport { Camera, CameraResultType,CameraSource } from '@capacitor/camera';\n\n\n@Component({\n  selector: 'app-b2b-view-product',\n  templateUrl: './b2b-view-product.page.html',\n  styleUrls: ['./b2b-view-product.page.scss'],\n})\nexport class B2bViewProductPage implements OnInit {\n  public base64Image: any;\n  loading = true;\n  subsidiary = null;\n  direccion_subsidiary_arr: any[] = new Array();\n  subsidiary_b2_mobile_data_product_list: any[] = new Array();\n  formGroupSearch = new FormGroup({\n    search: new FormControl(null)\n  })\n  categorias_productos: any = new Array();\n  subsidiary_last_b2b: any = null;\n  data_modal_marca = null;\n  user: any;\n  baja_stock_info_count = 0;\n  allProductList: any[] = new Array();\n  temporal_product_item = null;\n  @Input() card_item ;\n  constructor(public navCtrl: NavController,\n    private b2b: B2bService, private barcodeScanner: BarcodeScanner, private modalCtrl: ModalController,\n    private _auth: UserServicesService, private deliveryPublish: DeliveryServicesService,\n    public alertCtrl: AlertController, private _comunc: ComunicacionComponentService) {\n    let user_data = this._auth.getUser();\n    this.user = user_data[0];\n\n    //this.data_modal_marca = this.navParams.get('data');\n    \n    //console.log('data_learning: ', this.data_modal_marca);\n    //console.log('data_learning: ', this.card_item);\n\n    // this.formGroupSearch.controls.search.valueChanges.subscribe(async (search: any) => {\n    //   if (search === '') {\n    //     console.log('search-items-updates');\n    //     // this.getListProductSubsidiaryB2BMobile();\n    //     this.temporal_product_item = null;\n    //     this.categorias_productos = null;\n    //     this.categorias_productos = new Array();\n    //     await this.getCategoriaProductos();\n    //   }\n    // })\n  } \n  ngOnInit() {\n    this.data_modal_marca = this.card_item;\n    console.log('data_learning: ', this.card_item);\n    setTimeout(() => {\n      this.initt();\n      //})\n\n    }, 2000);\n  }\n\n  parse_fecha_b2b(fecha){\n    return moment(fecha).format('YYYY-MM-DD')\n  }\n\n\n\n\nasync editaStock(sku:string) {\n  const alert = await this.alertCtrl.create({\n    cssClass: 'my-custom-class',\n    header: 'Actualizar Stock: ',\n    inputs: [\n      {\n        name: 'stock',\n        type: 'number',\n        placeholder: 'Ingrese nuevo stock'\n      },\n      \n    ],\n    buttons: [\n      {\n        text: 'Cancelar',\n        role: 'cancel',\n        cssClass: 'secondary',\n        handler: () => {\n          console.log('Confirm Cancel');\n        }\n      }, {\n        text: 'Guardar',\n        handler: data => {\n          \n          /*\n          Enviar Stock\n          */\n          let envio_stock = {\n            subsidiary: this.subsidiary.id,\n            sku:sku,\n            stock:data.stock,\n            user_created: this.user.email\n          }\n          let rest_aviso =this.deliveryPublish.actualizaDatos(envio_stock);\n          console.log(rest_aviso);\n          this.showAlert('EnvÃ­o stock', 'Se ha enviado Stock', ['OK']);\n          this.getCategoriaProductos();\n          \n\n\n        }\n      }\n    ]\n  });\n\n  await alert.present();\n}\n\n\n\n  async registrarImagenLowStock(producto, cat_pro, prod) {\n    console.log('producto-low: ', producto);\n    /*this.camera.getPicture(\n      {\n      saveToPhotoAlbum: false,\n      targetWidth: 300,\n      targetHeight: 300,\n      quality: 100,\n      allowEdit: false,\n      encodingType: this.camera.EncodingType.PNG,\n      sourceType: this.camera.PictureSourceType.CAMERA,\n      destinationType: this.camera.DestinationType.DATA_URL,\n    }\n    \n    \n    ).then(async (imageData) => {*/\n      this.base64Image= await Camera.getPhoto({\n        saveToGallery:false,\n        width: 300,\n        height: 300,\n        quality: 100,\n        allowEditing: false,\n        resultType:CameraResultType.DataUrl,\n        source:CameraSource.Camera,\n        correctOrientation: true\n      })\n      let img = this.base64Image.dataUrl;\n      let model_lowstockproduc = {\n        id_subsidiary: this.subsidiary.id,\n        id_product: producto.id,\n        product_photo: img,\n        user_created: this.user.email\n      }\n\n      try {\n\n        let rest_aviso = await this.deliveryPublish.lowstockproduct(model_lowstockproduc);\n\n        console.log('rest_aviso_low_product:', rest_aviso);\n        if (rest_aviso != null) {\n\n          // let find_error_key = Object.keys(rest_aviso).indexOf('non_field_errors');\n          // if (find_error_key > -1) {\n          // } else {\n\n          this.categorias_productos[cat_pro].product[prod].color = '#CCFF90';\n          this.baja_stock_info_count = this.baja_stock_info_count + 1;\n          // }\n          //marcar el producto como registrado\n        }\n\n      } catch (e) {\n\n        this.showAlert('Error bajo stock', 'este producto ya se encuentra informado con bajo stock', ['OK']);\n      }\n\n\n      //this.modelPos.controls.picture_business.setValue(this.base64Image);\n    //}, error => {\n\n    //});\n  }\n\n\n  async registrarImagenLowStockFilter(producto) {\n    console.log('producto-low: ', producto);\n  /* this.camera.getPicture({\n      saveToPhotoAlbum: false,\n      targetWidth: 300,\n      targetHeight: 300,\n      quality: 100,\n      allowEdit: false,\n      encodingType: this.camera.EncodingType.PNG,\n      sourceType: this.camera.PictureSourceType.CAMERA,\n      destinationType: this.camera.DestinationType.DATA_URL,\n    }).then(async (imageData) => {*/\n      this.base64Image= await Camera.getPhoto({\n        saveToGallery:false,\n        width: 300,\n        height: 300,\n        quality: 100,\n        allowEditing: false,\n        resultType:CameraResultType.DataUrl,\n        source:CameraSource.Camera,\n        correctOrientation: true\n      })\n\n     \n      let img = this.base64Image.dataUrl;\n      let model_lowstockproduc = {\n        id_subsidiary: this.subsidiary.id,\n        id_product: producto.id,\n        product_photo: img,\n        user_created: this.user.email\n      }\n\n      try {\n\n        let rest_aviso = await this.deliveryPublish.lowstockproduct(model_lowstockproduc);\n\n        console.log('rest_aviso_low_product:', rest_aviso);\n        if (rest_aviso != null) {\n\n          // let find_error_key = Object.keys(rest_aviso).indexOf('non_field_errors');\n          // if (find_error_key > -1) {\n          // } else {\n\n          this.getCategoriaProductos();\n          this.baja_stock_info_count = this.baja_stock_info_count + 1;\n          // }\n          //marcar el producto como registrado\n        }\n\n      } catch (e) {\n\n        this.showAlert('Error bajo stock', 'este producto ya se encuentra informado con bajo stock', ['OK']);\n      }\n\n\n      //this.modelPos.controls.picture_business.setValue(this.base64Image);\n    //}, error => {\n\n    //});\n  }\n\n\n  async showAlert(title, subTitle, buttons) {\n    const alert = await this.alertCtrl.create({\n      //title: title,\n      //subTitle: subTitle,\n      header: title,\n      subHeader: subTitle,\n      buttons: buttons\n    });\n    await  alert.present();\n  }\n\n\n\n\n\n  async getCategoriaProductos() {\n\n    /**\n     * obtiene los productos del subisidiary por categoria\n     */\n    //this.subsidiary.id\n    this.categorias_productos = null;\n    this.categorias_productos = new Array();\n    this.temporal_product_item = null;\n    this.allProductList = new Array();\n    this.formGroupSearch.reset();\n    try {\n      this.loading=true;\n      console.log('product-valid: ',this.subsidiary.id,' modal',);\n      // console.log('dataCategoriaProductos:',{subisidiary_id:this.subsidiary.id,marca:this.data_modal_marca.card_item.id});\n      let product_category: any = await this.b2b.getCategoriaProductos(this.subsidiary.id, this.data_modal_marca.id);\n      let product_valid:any = await this.deliveryPublish.subsidiaryb2bmobileproducts(this.subsidiary.id,this.data_modal_marca.id);\n      console.log('product-valid: ',product_valid);\n      this.categorias_productos = product_category;\n      console.log('categorias productos: ', this.categorias_productos);\n      this.setColorCalifProduct(this.categorias_productos,product_valid);\n      this.loading=false;\n    } catch (e) {\n      console.log('error:', e);\n    }\n  }\n\n\n\n\n  setColorCalifProduct(category_arr,validArr) {\n    try {\n\n      if(validArr.length>0){\n\n      \n          \n          category_arr.forEach((category, idx_category) => {\n            category.product.forEach((product, idx_product) => {\n              let find_valid_product= _.findIndex(validArr,(o)=>{\n                return o.id_product==product.id;\n              })\n\n              if(find_valid_product>-1){\n                this.categorias_productos[idx_category].product[idx_product].color = '#CCFF90';\n              }else{\n                this.categorias_productos[idx_category].product[idx_product].color = '#FCE4EC';\n              }\n            \n    \n            });\n          });\n    \n      }else{\n        category_arr.forEach((category, idx_category) => {\n          category.product.forEach((product, idx_product) => {\n         \n              if (product.stock <= 5) {\n                this.categorias_productos[idx_category].product[idx_product].color = '#FCE4EC';\n              }\n\n            \n  \n          });\n        });\n      }\n\n    } catch (e) {\n      console.log('error setColorCalifProduct: ', e);\n    }\n  }\n\n\n ionViewDidLoad() {\n\n\n\n    setTimeout(() => {\n      this.initt();\n      //})\n\n    }, 2000);\n\n\n  }\n\n  async initt()\n  {\n    console.log('ionViewDidLoad BeToBePage');\n\n      this.loading = true;\n  \n    const  value  = await Storage.get({ key: 'subsidiary'});\n   \n     // this.storage.get('subsidiary').then(async (subsidiary: any) => {\n        this.subsidiary = JSON.parse(value.value);\n \n        // await this.getListProductSubsidiaryB2BMobile();\n        await this.getCategoriaProductos();\n        await this.getLastB2bSubsiduary();\n\n        console.log('getSubsidiary: ', this.subsidiary);\n        this.loading = false;\n  }\n\n  async getLastB2bSubsiduary() {\n    try {\n\n      this.subsidiary_last_b2b = await this.b2b.getLastB2bSubsidiary(this.subsidiary.id);\n\n    } catch (e) {\n\n    }\n  }\n\n\n  async buscarProducto() {\n    // this.temporal_product_item = null;\n    // this.allProductList = new Array();\n    // await this.getCategoriaProductos();\n\n    this.barcodeScanner.scan().then(async (barcodeData) => {\n      if (barcodeData.text === \"\") {\n        this.temporal_product_item = null;\n        this.allProductList = new Array();\n        await this.getCategoriaProductos();\n      } else {\n\n        await this.setProductListAll();\n\n        console.log('temporal_product_item: ',this.temporal_product_item);\n        this.formGroupSearch.controls.search.setValue(barcodeData.text);\n        this.temporal_product_item = this.filterItems(barcodeData.text);\n\n        // this.categorias_productos=null;\n        // this.categorias_productos=new Array();\n      }\n      console.log('Barcode data', barcodeData);\n    }).catch(err => {\n      console.log('Error', err);\n    });\n  }\n\n  async setProductListAll() {\n    this.categorias_productos.forEach((category) => {\n      category.product.forEach(producto => {\n        this.allProductList.push(producto);\n        console.log('producto_item: ',producto);\n      });\n    });\n    return true;\n  }\n\n\n  filterItems(searchTerm) {\n    return this.allProductList.filter((item) => {\n      return item.idsku.toLowerCase().indexOf(\n        searchTerm.toLowerCase()) > -1;\n    });\n  }\n\n\n  async getListProductSubsidiaryB2BMobile() {\n\n    /**\n     * Obtiene la lista de productos en b2b\n     */\n\n    let subsidiary_b2_mobile_data_product: any = await this.b2b.getsubsidiaryB2bMobile(this.subsidiary.id);\n    this.subsidiary_b2_mobile_data_product_list = subsidiary_b2_mobile_data_product;\n    this.cortar_string(this.subsidiary.all.address);\n    console.log('b2b_product: ', subsidiary_b2_mobile_data_product);\n\n  }\n\n\n  cortar_string(value: string) {\n    try {\n      console.log('corta_string: ', value.split(','));\n      this.direccion_subsidiary_arr = value.split(',');\n\n    } catch (e) { }\n  }\n\n  goBack() {\n    //this.navCtrl.pop();\n    this.modalCtrl.dismiss({\n      'dismissed': true\n    });\n    this._comunc.addItem({ name: 'low-stock-count', itemAdd: { count: this.baja_stock_info_count } });\n\n  }\n\n\n}\n","import { Injectable } from '@angular/core';\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { BaseServicesService } from './base-services.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class B2bService {\n  public url: string = 'https://vm-icov-003.riosoft.cl/api/v1/';\n  // public url: string = 'http://192.168.100.9:8001/api/v1/';\n\n  constructor(public http: HttpClient,\n    public base: BaseServicesService) { \n      console.log('Hello B2bProvider Provider');\n    }\n\n    getsubsidiaryB2bMobile(subsidiary_id) {\n      let headers = new HttpHeaders().set('Content-Type', 'application/json').set('Authorization', 'Bearer ' + this.base.getDataToken());\n      return this.http.get(this.url + 'reports/subsidiary-b2b-mobile/?id_subsidiary=' + subsidiary_id, { headers: headers }).toPromise();\n    }\n  \n    getCategoriaProductos(subsidiary_id?,id_brand?) {\n      /**\n       *  @param subsidiary_id\n       * \n       * \n       */\n  \n      return new Promise(async (resolve, reject) => {\n  \n        let productos_marcas: any = new Array();\n  \n        try {\n  \n          let headers = new HttpHeaders().set('Content-Type', 'application/json').set('Authorization', 'Bearer ' + this.base.getDataToken());\n          //     /**obteniendo las categorias de productos */\n          productos_marcas = await this.http.get(this.url + 'reports/subsidiary-b2b-mobile/?id_subsidiary='+subsidiary_id+'&id_brand='+id_brand+'', { headers: headers }).toPromise();\n          resolve(productos_marcas);\n  \n  \n        } catch (e) { }\n  \n      })\n  \n  \n    }\n  \n  \n    getMarcaAndAgency() {\n      let headers = new HttpHeaders().set('Content-Type', 'application/json').set('Authorization', 'Bearer ' + this.base.getDataToken());\n      /**obteniendo las categorias de productos */\n      return this.http.get(this.url + 'brands/', { headers: headers }).toPromise();\n    }\n  \n    getLastB2bSubsidiary(subsidiary_id) {\n      let headers = new HttpHeaders().set('Content-Type', 'application/json').set('Authorization', 'Bearer ' + this.base.getDataToken());\n      /**obteniendo las categorias de productos */\n      return this.http.get(this.url + 'reports/subsidiary-last-b2b/?id_subsidiary=' + subsidiary_id, { headers: headers }).toPromise();\n  \n    }\n  \n  \n    getValidaMarcas(brand,multistore_id){\n      let headers = new HttpHeaders().set('Content-Type', 'application/json').set('Authorization', 'Bearer ' + this.base.getDataToken());\n      /**obteniendo las categorias de productos */\n      return this.http.get(this.url + 'multistore-product-check/?brand=' + brand+'&multistore_id='+multistore_id, { headers: headers }).toPromise();\n    }\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJiMmItdmlldy1wcm9kdWN0LnBhZ2Uuc2NzcyJ9 */\";","export default \"<!--\\n  Generated template for the B2bViewProductPage page.\\n\\n  See http://ionicframework.com/docs/components/#navigation for more info on\\n  Ionic pages and navigation.\\n-->\\n\\n<ion-header no-border>\\n  <ion-toolbar color='violet'>\\n    <ion-buttons slot=\\\"start\\\" >\\n      <ion-button  (click)=\\\"goBack()\\\" >\\n        <ion-icon name=\\\"close\\\"></ion-icon>\\n      </ion-button>\\n    </ion-buttons>\\n    <ion-title>{{subsidiary?.title}}</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n\\n<ion-content style=\\\"background:#F5F5F5\\\" class=\\\"ion-padding\\\">\\n\\n\\n  <div *ngIf=\\\"loading\\\" style=\\\"text-align:center\\\">\\n\\n    <h3 style=\\\"margin-block-start: 10em;text-align: center;color:#757575\\\">\\n      Cargando productos...\\n    </h3>\\n\\n    <ion-spinner name=\\\"bubbles\\\"></ion-spinner>\\n\\n  </div>\\n\\n  <div *ngIf=\\\"!loading\\\">\\n\\n\\n\\n\\n\\n    <div *ngIf=\\\"categorias_productos?.length==0\\\">\\n      <h3 style=\\\"margin-block-start: 10em;text-align: center;color:#616161\\\">Sin productos para esta marca</h3>\\n    </div>\\n\\n\\n    <div *ngIf=\\\"categorias_productos?.length>0\\\">\\n\\n      <form [formGroup]=\\\"formGroupSearch\\\">\\n        <ion-searchbar formControlName=\\\"search\\\" (click)=\\\"buscarProducto()\\\"></ion-searchbar>\\n      </form>\\n\\n      <ion-list>\\n        <ion-scroll scrollY=\\\"true\\\" style=\\\"height:100vh;\\\">\\n\\n          <div *ngIf=\\\"temporal_product_item!=null\\\">\\n\\n            <div *ngFor=\\\"let producto of temporal_product_item;let pro=index\\\">\\n              <ion-item-sliding #item>\\n                <ion-item [ngStyle]=\\\"{'background-color': producto?.color}\\\">\\n                  <ion-avatar item-start style=\\\"margin-left:1em !important; margin-right:1em !important;\\\">\\n                    <img [src]=\\\"producto?.product_photo\\\">\\n                  </ion-avatar>\\n                  <h3 style=\\\"color:#37474F\\\">{{producto?.product_description}}</h3>\\n                  <p>SKU: {{producto?.idsku}}</p>\\n                  <p>Codigo de barra: {{producto?.bar_code}}</p>\\n                  <p>fecha ultimo b2b: {{parse_fecha_b2b(producto?.last_b2b)}} </p>\\n                  <p>Ventas: {{producto?.sales}}</p>\\n                  <p>Stock: {{producto?.stock}} <ion-icon name=\\\"create-outline\\\"></ion-icon></p>\\n                  <p>Precio: {{producto?.value}}</p>\\n                </ion-item>\\n                <!-- <ion-item-options side=\\\"left\\\">\\n                      <button ion-button (click)=\\\"favorite(item)\\\">Favorite</button>\\n                      <button ion-button color=\\\"danger\\\" (click)=\\\"share(item)\\\">Share</button>\\n                    </ion-item-options> -->\\n\\n                <!--<ion-item-options side=\\\"start\\\">\\n                  <ion-button *ngIf=\\\"producto?.color==='#FCE4EC'\\\" ion-button\\n                    (click)=\\\"registrarImagenLowStockFilter(producto)\\\">\\n                    <ion-icon name=\\\"camera\\\"></ion-icon>\\n                  </ion-button>\\n                  <ion-button *ngIf=\\\"producto?.color==='#CCFF90'\\\" ion-button>\\n                    <ion-icon name=\\\"checkmark\\\"></ion-icon>\\n                  </ion-button>\\n                </ion-item-options>-->\\n              </ion-item-sliding>\\n            </div>\\n            <br />\\n            <button ion-button block clear (click)=\\\"getCategoriaProductos()\\\">\\n              <ion-icon name=\\\"trash\\\"></ion-icon>\\n            </button>\\n \\n\\n          </div>\\n\\n          <div *ngIf=\\\"temporal_product_item==null\\\">\\n\\n            <div *ngFor=\\\"let categoria of categorias_productos;let cat_pro=index\\\">\\n\\n              <accordion>\\n                <accordion-group [heading]=\\\"categoria?.category\\\" [isOpened]=\\\"false\\\">\\n               \\n                  <div *ngIf=\\\"categoria?.product?.length>0\\\">\\n                    <div *ngFor=\\\"let producto of categoria.product;let pro=index\\\">\\n  \\n                      <ion-item-sliding #item>\\n                        <ion-item [ngStyle]=\\\"{'background-color': producto?.color}\\\">\\n                          <ion-avatar item-start style=\\\"margin-left:1em !important; margin-right:1em !important;\\\">\\n                            <img [src]=\\\"producto?.product_photo\\\">\\n                          </ion-avatar>\\n                          <ion-label>\\n                          <h3 style=\\\"color:#37474F\\\">{{producto?.product_description}}</h3>\\n                          <p>SKU: {{producto?.idsku}}</p>\\n                          <p>Codigo de barra: {{producto?.bar_code}}</p>\\n                          <p>fecha ultimo b2b: {{parse_fecha_b2b(producto?.last_b2b)}}</p>\\n                          <p>Ventas: {{producto?.sales}}</p>\\n                          <p>Stock: {{producto?.stock}} <ion-icon name=\\\"create-outline\\\" (click)=\\\"editaStock(producto?.idsku);\\\"></ion-icon></p>\\n                          <p>Precio: {{producto?.value}}</p>\\n                           </ion-label>\\n                        </ion-item> \\n                        <!-- <ion-item-options side=\\\"left\\\">\\n                                        <button ion-button (click)=\\\"favorite(item)\\\">Favorite</button>\\n                                        <button ion-button color=\\\"danger\\\" (click)=\\\"share(item)\\\">Share</button>\\n                                      </ion-item-options> -->\\n  \\n                        <!--<ion-item-options side=\\\"start\\\">\\n                          <ion-button *ngIf=\\\"producto?.color==='#FCE4EC'\\\" ion-button\\n                            (click)=\\\"registrarImagenLowStock(producto,cat_pro,pro)\\\">\\n                            <ion-icon name=\\\"camera\\\"></ion-icon>\\n                          </ion-button>\\n                          <ion-button *ngIf=\\\"producto?.color==='#CCFF90'\\\" ion-button>\\n                            <ion-icon name=\\\"checkmark\\\"></ion-icon>\\n                          </ion-button>\\n                        </ion-item-options>-->\\n                      </ion-item-sliding>\\n  \\n                      <!-- <ion-item>\\n                                  <ion-avatar item-start style=\\\"margin-left:1em !important; margin-right:1em !important;\\\">\\n                                    <img [src]=\\\"producto?.product_photo\\\">\\n                                  </ion-avatar>\\n                                  <!-- <h2>title</h2> -->\\n                      <!-- <h3>{{producto?.product_description}}</h3>\\n                                  <p>SKU: {{producto?.idsku}}</p>\\n                                  <p>Codigo de barra: {{producto?.bar_code}}</p> -->\\n                      <!-- <p>fecha ultimo b2b</p> -->\\n                      <!-- <p>Ventas: {{producto?.sales}}</p>\\n                                  <p>Stock: {{producto?.stock}}</p>\\n                                  <p>Precio: {{producto?.value}}</p>\\n                                </ion-item> -->\\n                    </div>\\n  \\n                  </div>\\n                  <div style=\\\"margin-left:auto !important; margin-right:auto !important\\\"\\n                    *ngIf=\\\"categoria?.productos?.length==0\\\">\\n                    <!-- <i class=\\\"material-icons\\\">\\n                                remove_shopping_cart\\n                              </i>\\n                              <p>Sin productos para esta categoria</p> -->\\n                  </div>\\n                  <!-- <ion-item>\\n                            <ion-avatar item-start>\\n                              <img [src]=\\\"subsidiary?.all.picture_business\\\">\\n                            </ion-avatar>\\n                            <h2 style=\\\"color:#757575\\\">{{product?.sales}}</h2>\\n                            <h3 style=\\\"color:#757575\\\">{{product?.stock}}</h3>\\n                            <p style=\\\"color:#757575\\\">{{product?.idsku}}.</p>\\n                      \\n                          </ion-item> -->\\n\\n                </accordion-group>  \\n\\n\\n\\n              </accordion>\\n\\n\\n\\n\\n            </div>\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n          </div>\\n\\n        </ion-scroll>\\n      </ion-list>\\n\\n    </div>\\n\\n  </div>\\n\\n</ion-content>\\n\";"]}